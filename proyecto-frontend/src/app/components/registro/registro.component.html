<div class="registro-container">
  <div class="registro-box" *ngIf="registroForm">
    <img src="img/academic-logo.png" alt="Logo" class="logo" />
    <h2 class="titulo">Ucademic</h2>
    <h4 class="subtitulo">Registro:</h4>

    <form [formGroup]="registroForm" (ngSubmit)="registrar()">
      <!-- Nombre -->
      <div class="form-group">
        <input type="text" placeholder="Nombre" formControlName="nombre" />
        <div class="error" *ngIf="f['nombre'].touched && f['nombre'].invalid">
          <small *ngIf="f['nombre'].errors?.['required']">El nombre es obligatorio.</small>
          <small *ngIf="f['nombre'].errors?.['minlength']">Debe tener al menos 4 caracteres.</small>
        </div>
      </div>

      <!-- Apellido -->
      <div class="form-group">
        <input type="text" placeholder="Apellido" formControlName="apellido" />
        <div class="error" *ngIf="f['apellido'].touched && f['apellido'].invalid">
          <small *ngIf="f['apellido'].errors?.['required']">El apellido es obligatorio.</small>
          <small *ngIf="f['apellido'].errors?.['minlength']">Debe tener al menos 4 caracteres.</small>
        </div>
      </div>

      <!-- Correo -->
      <div class="form-group">
        <input type="email" placeholder="Correo electrónico" formControlName="correo" />
        <div class="error" *ngIf="f['correo'].touched && f['correo'].invalid">
          <small *ngIf="f['correo'].errors?.['required']">El correo es obligatorio.</small>
          <small *ngIf="f['correo'].errors?.['email']">Formato de correo inválido.</small>
        </div>
      </div>

      <!-- Contraseña -->
      <div class="form-group">
        <div class="input-wrapper">
          <input [type]="mostrarContrasena ? 'text' : 'password'" placeholder="Contraseña" formControlName="contrasena" />
          <button type="button" class="ojo-btn" (click)="mostrarContrasena = !mostrarContrasena" tabindex="-1">
            <svg *ngIf="!mostrarContrasena" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
              <path fill="#555" d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5C21.27 7.61 17 4.5 12 4.5zm0 12.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zm0-2a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
            </svg>
            <svg *ngIf="mostrarContrasena" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
              <path fill="#555" d="M12 6a9.77 9.77 0 0 0-8.94 6A9.77 9.77 0 0 0 12 18a9.77 9.77 0 0 0 8.94-6A9.77 9.77 0 0 0 12 6Zm0 10a4 4 0 1 1 4-4a4 4 0 0 1-4 4Zm0-6a2 2 0 1 0 2 2a2 2 0 0 0-2-2Z"/>
            </svg>
          </button>
        </div>
        <div class="error" *ngIf="f['contrasena'].touched && f['contrasena'].invalid">
          <small *ngIf="f['contrasena'].errors?.['required']">La contraseña es obligatoria.</small>
          <small *ngIf="f['contrasena'].errors?.['minlength']">Mínimo 8 caracteres.</small>
          <small *ngIf="f['contrasena'].errors?.['invalidPassword']">
            Debe tener una mayúscula, una minúscula, un número y un símbolo.
          </small>
        </div>
      </div>

      <!-- Confirmar contraseña -->
      <div class="form-group">
        <div class="input-wrapper">
          <input [type]="mostrarConfirmar ? 'text' : 'password'" placeholder="Confirmar contraseña" formControlName="confirmar" />
          <button type="button" class="ojo-btn" (click)="mostrarConfirmar = !mostrarConfirmar" tabindex="-1">
            <svg *ngIf="!mostrarConfirmar" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
              <path fill="#555" d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5C21.27 7.61 17 4.5 12 4.5zm0 12.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zm0-2a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
            </svg>
            <svg *ngIf="mostrarConfirmar" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
              <path fill="#555" d="M12 6a9.77 9.77 0 0 0-8.94 6A9.77 9.77 0 0 0 12 18a9.77 9.77 0 0 0 8.94-6A9.77 9.77 0 0 0 12 6Zm0 10a4 4 0 1 1 4-4a4 4 0 0 1-4 4Zm0-6a2 2 0 1 0 2 2a2 2 0 0 0-2-2Z"/>
            </svg>
          </button>
        </div>
        <div class="error" *ngIf="registroForm.errors?.['mismatch'] && f['confirmar'].touched">
          <small>Las contraseñas no coinciden.</small>
        </div>
      </div>

      <!-- Botones -->
      <div class="botones">
        <button class="btn registrar-btn" type="submit" [disabled]="registroForm.invalid">Registrar</button>
        <button class="btn cancelar-btn" type="button" (click)="cancelar()">Cancelar</button>
      </div>
    </form>
  </div>
</div>
