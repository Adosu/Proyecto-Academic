<div class="contenido-tema-container">
  <!-- Campo para nuevo contenido -->
  <textarea [(ngModel)]="nuevoContenido" placeholder="Nuevo contenido..."></textarea>
  <button (click)="agregarContenido()" [disabled]="!nuevoContenido.trim()">Añadir contenido</button>

  <!-- Lista de contenidos -->
  <ul *ngIf="contenidos.length > 0; else sinContenidos" class="lista-contenidos">
    <li *ngFor="let c of contenidos">
      <!-- Modo edición -->
      <div *ngIf="editandoId === c.idContenido; else verContenido" style="width: 100%;">
        <textarea
          [(ngModel)]="textoTemporal"
          (keydown.enter)="guardarEdicion(c)"
          (keydown.escape)="cancelarEdicion()"
          (blur)="guardarEdicion(c)"
        ></textarea>
      </div>

      <!-- Modo visualización -->
      <ng-template #verContenido>
        <span (click)="habilitarEdicion(c)" style="flex: 1; cursor: pointer;">
          {{ c.texto }}
        </span>
        <button class="btn-eliminar" (click)="eliminarContenido(c.idContenido)">🗑️</button>
      </ng-template>
    </li>
  </ul>

  <ng-template #sinContenidos>
    <p class="sub-texto">Este tema aún no tiene contenido.</p>
  </ng-template>
</div>
